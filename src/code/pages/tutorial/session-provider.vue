<template>
<Tutorial :pageDescription="description" :pageKeywords="keywords" :innerHtml="tutorialContent" :pageTitle="title"></Tutorial>
</template>
<script lang="ts">
import { Component, Vue } from "nuxt-property-decorator";
import Tutorial from "~/components/tutorial.vue";
@Component({
  components: {
    Tutorial
  }
})
export default class extends Vue {
  tutorialContent = `%3Cp%3EBy%20default%20Shivneri%20provides%20a%20memory%20session%20provider%20which%20stores%20all%20your%20data%20in%20memory%20&amp;%20data%20is%20lost%20when%20crystal%20process%20is%20stopped%20or%20restarted.%3C/p%3E%0A%3Cp%3EYou%20can%20create%20your%20own%20session%20provider%20&amp;%20store%20it%20in%20database%20or%20wherever%20you%20want.%20A%20session%20provider%20is%20a%20class%20which%20extends%20the%20class%20-%20%3Ccode%3ESessionProvider%3C/code%3E.%3C/p%3E%0A%3Cp%3ELet's%20see%20how%20we%20can%20implement%20a%20simple%20memory%20session%20provider%20-%20%3C/p%3E%0A%3Cpre%3E%3Ccode%3Eimport%20%7B%20SessionProvider%20%7D%20from%20%22Shivneri%22;%0A%0Aconst%20sessionValues%20=%20%7B%7D;%0A%0Aexport%20class%20CustomSessionProvider%20extends%20SessionProvider%20%7B%0A%0A%20%20%20%20async%20get(key:%20string)%20%7B%0A%20%20%20%20%20%20%20%20const%20savedSession%20=%20sessionValues%5Bthis.sessionId%5D;%0A%20%20%20%20%20%20%20%20return%20savedSession%20!=%20null%20?%20savedSession%5Bkey%5D%20:%20null;%0A%20%20%20%20%7D%0A%0A%20%20%20%20async%20isExist(key:%20string)%20%7B%0A%20%20%20%20%20%20%20%20const%20savedValue%20=%20sessionValues%5Bthis.sessionId%5D;%0A%20%20%20%20%20%20%20%20return%20savedValue%20==%20null%20?%20false%20:%20savedValue%5Bkey%5D%20!=%20null;%0A%20%20%20%20%7D%0A%0A%20%20%20%20async%20getAll()%20%7B%0A%20%20%20%20%20%20%20%20const%20savedValue%20=%20sessionValues%5Bthis.sessionId%5D;%0A%20%20%20%20%20%20%20%20return%20savedValue%20==%20null%20?%20%7B%7D%20:%20savedValue;%0A%20%20%20%20%7D%0A%0A%20%20%20%20async%20set(key:%20string,%20val:%20any)%20%7B%0A%20%20%20%20%20%20%20%20const%20savedValue%20=%20sessionValues%5Bthis.sessionId%5D;%0A%20%20%20%20%20%20%20%20if%20(savedValue%20==%20null)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.createSession();%0A%20%20%20%20%20%20%20%20%20%20%20%20sessionValues%5Bthis.sessionId%5D%20=%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5Bkey%5D:%20val%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20savedValue%5Bkey%5D%20=%20val;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20setMany(values:%20%7B%20%5Bkey:%20string%5D:%20any%20%7D)%20%7B%0A%20%20%20%20%20%20%20%20return%20Promise.all(%0A%20%20%20%20%20%20%20%20%20%20%20%20Object.keys(values).map((key)%20=&gt;%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this.set(key,%20values%5Bkey%5D);%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%0A%20%20%20%20%20%20%20%20);%0A%20%20%20%20%7D%0A%0A%20%20%20%20async%20remove(key:%20string)%20%7B%0A%20%20%20%20%20%20%20%20const%20savedValue%20=%20sessionValues%5Bthis.sessionId%5D;%0A%20%20%20%20%20%20%20%20if%20(savedValue%20!=%20null)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20savedValue%5Bkey%5D%20=%20null;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20async%20clear()%20%7B%0A%20%20%20%20%20%20%20%20//%20remove%20session%20values%0A%20%20%20%20%20%20%20%20delete%20sessionValues%5Bthis.sessionId%5D;%0A%20%20%20%20%20%20%20%20//%20expire%20cookie%20in%20browser%0A%20%20%20%20%20%20%20%20await%20this.destroySession();%0A%20%20%20%20%7D%0A%7D%0A%3C/code%3E%3C/pre%3E%0A%3Cp%3EAfter%20you%20have%20created%20a%20session%20provider,%20you%20need%20to%20tell%20Shivneri%20to%20use%20new%20session%20provider.%3C/p%3E%0A%3Cpre%3E%3Ccode%3Eimport%20%7B%20Fort%20%7D%20from%20%22Shivneri%22;%0Aimport%20%7B%20UserController%20%7D%20from%20%22./controllers%22;%0Aimport%20%7B%20CustomSessionProvider%20%7D%20from%20%22./extra/custom_session_provider%22;%0A%0Aclass%20App%20extends%20Fort%20%7B%0A%20%20%20%20constructor()%20%7B%0A%20%20%20%20%20%20%20%20super();%0A%0A%20%20%20%20%20%20%20%20//%20set%20your%20session%20provider%0A%20%20%20%20%20%20%20%20this.sessionProvider%20=%20CustomSessionProvider%0A%0A%20%20%20%20%20%20%20%20//add%20routers%0A%20%20%20%20%20%20%20%20this.routers%20=%20%5B%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20controller:%20UserController,%0A%20%20%20%20%20%20%20%20%20%20%20%20path:%20%22/user%22%0A%20%20%20%20%20%20%20%20%7D%5D;%0A%0A%20%20%20%20%7D%0A%7D%0A%0Anew%20App().create(%7B%0A%20%20%20%20appName:%20%22MyAwesomeApp%22%0A%7D);%0A%3C/code%3E%3C/pre%3E%0A%3Cp%3EHave%20a%20look%20at%20redis%20session%20provider%20example%20-%20%3Ca%20href=%22https://github.com/ujjwalguptaofficial/Shivneri-examples/tree/master/session-provider/redis%22%3Ehttps://github.com/ujjwalguptaofficial/Shivneri-examples/tree/master/session-provider/redis%3C/a%3E%3C/p%3E`;
  title="Session Provider";
  keywords="session provider, create session provider, options, Shivneri, crystal";
  description="Customize session provider in Shivneri";
}
</script>
