<template>
<Tutorial :pageDescription="description" :pageKeywords="keywords" :innerHtml="tutorialContent" :pageTitle="title"></Tutorial>
</template>
<script lang="ts">
import { Component, Vue } from "nuxt-property-decorator";
import Tutorial from "~/components/tutorial.vue";
@Component({
  components: {
    Tutorial
  }
})
export default class extends Vue {
  tutorialContent = `%3Cp%3EExpectBody%20is%20a%20decorator%20which%20helps%20you%20to%20validate%20body%20data.%20It%20provides%20following%20features%20-%3C/p%3E%0A%3Cul%3E%0A%3Cli%3ECheck%20data%20type%20of%20incoming%20body%20data%20against%20expected%20body.%3C/li%3E%0A%3Cli%3ERemoves%20unnecessary%20data%20from%20incoming%20body.%20This%20helps%20you%20to%20store%20data%20in%20nosql%20database%20without%20retrieving%20particular%20property%20and%20thus%20saving%20lots%20of%20code.%3C/li%3E%0A%3C/ul%3E%0A%3Cp%3E%3Cbr%3E%3C/p%3E%0A%3Ch2%20id=%22checkdatatype%22%3ECheck%20data%20type%3C/h2%3E%0A%3Cp%3E%3Cbr%3E%0AConsider%20a%20post%20request%20which%20sends%20following%20data%20in%20request%20%3C/p%3E%0A%3Cpre%3E%3Ccode%3E%7B%0A%20%20%20%20price:%221200%22,%0A%20%20%20%20name:%22black%20jeans%20nike%22%0A%7D%0A%3C/code%3E%3C/pre%3E%0A%3Cp%3EHere%20price%20being%20sent%20is%201200%20which%20is%20string%20but%20server%20expects%20it%20to%20be%20number.%20In%20this%20case%20you%20will%20write%20codes%20to%20check%20for%20data%20type%20of%20%3Ccode%3Eprice%3C/code%3E%20property.%20%3C/p%3E%0A%3Cp%3EBut%20when%20using%20%3Ccode%3EExpectBody%3C/code%3E%20it%20will%20automatically%20check%20the%20datatype%20&amp;%20if%20not%20matches%20then%20returns%20a%20400%20request.%20This%20saves%20you%20writing%20code%20for%20validation%20of%20property%20type.%3C/p%3E%0A%3Cp%3ELet's%20see%20how%20to%20configure%20this%20using%20%3Ccode%3EExpectBody%3C/code%3E%3C/p%3E%0A%3Cpre%3E%3Ccode%3Eexport%20class%20ProductController%7B%0A%0A%20%20%20%20@Route(%22/%22)%0A%20%20%20%20@Worker(%5B%22post%22%5D)%0A%20%20%20%20@ExpectBody(%7B%20price:0,%20name:%22%22%7D)%0A%20%20%20%20saveProduct()%7B%0A%20%20%20%20%20%20%20const%20product%20=%20%20this.body;%0A%20%20%20%20%7D%0A%7D%0A%3C/code%3E%3C/pre%3E%0A%3Cp%3EYou%20can%20also%20provide%20a%20class%20as%20parameter.%20Make%20sure%20that%20class%20properties%20are%20initialized.%3C/p%3E%0A%3Cp%3Ee.g%20-%20%3C/p%3E%0A%3Cpre%3E%3Ccode%3Eexport%20class%20Product%20%7B%0A%20%20price%20=%200;%0A%20%20name%20=%20%22%22%0A%7D%0A%0Aexport%20class%20ProductController%7B%0A%0A%20%20%20%20@Route(%22/%22)%0A%20%20%20%20@Worker(%5B%22post%22%5D)%0A%20%20%20%20@ExpectBody(Product)%0A%20%20%20%20saveProduct()%7B%0A%20%20%20%20%20%20%20const%20product%20=%20%20this.body;%0A%20%20%20%20%7D%0A%7D%0A%3C/code%3E%3C/pre%3E%0A%3Cp%3E%3Cbr%3E%3C/p%3E%0A%3Ch2%20id=%22removesunnecessarydatafromincomingbody%22%3ERemoves%20unnecessary%20data%20from%20incoming%20body%3C/h2%3E%0A%3Cp%3E%3Cbr%3E%0AConsider%20a%20post%20request%20which%20sends%20following%20data%20in%20request%20%3C/p%3E%0A%3Cpre%3E%3Ccode%3E%7B%0A%20%20%20%20name:%22ujjwal%20gupta%22,%0A%20%20%20%20gender:%22male%22,%0A%20%20%20%20extra:%22some%20extra%20value%22%20//%20some%20extra%20value%20which%20is%20not%20required%0A%7D%0A%3C/code%3E%3C/pre%3E%0A%3Cp%3Enow%20for%20such%20requests%20-%3C/p%3E%0A%3Ch3%20id=%221weeithersavethewholedata%22%3E1.%20We%20either%20save%20the%20whole%20data%3C/h3%3E%0A%3Cpre%3E%3Ccode%3Eexport%20class%20UserController%7B%0A%0A%20%20%20%20@Route(%22/%22)%0A%20%20%20%20@Worker(%5B%22post%22%5D)%0A%20%20%20%20saveUser()%7B%0A%20%20%20%20%20%20%20const%20user%20=%20this.body;%0A%20%20%20%20%20%20%20//%20save%20user%20into%20mongodb%0A%20%20%20%20%20%20%20const%20service%20=%20new%20UserService();%0A%20%20%20%20%20%20%20service.saveUser(user);%0A%20%20%20%20%7D%0A%7D%0A%3C/code%3E%3C/pre%3E%0A%3Cp%3EIn%20this%20case%20-%20property%20%3Ccode%3Eextra%3C/code%3E%20will%20be%20saved%20too%20&amp;%20thus%20your%20database%20has%20now%20garbage%20value.%20This%20is%20a%20very%20big%20risk%20&amp;%20you%20shouldn't%20save%20data%20this%20way%20when%20using%20nosql%20database.%3C/p%3E%0A%3Ch3%20id=%222extractparticularvaluefrombody%22%3E2.%20Extract%20particular%20value%20from%20body%3C/h3%3E%0A%3Cpre%3E%3Ccode%3Eexport%20class%20UserController%7B%0A%0A%20%20%20%20@Route(%22/%22)%0A%20%20%20%20@Worker(%5B%22post%22%5D)%0A%20%20%20%20saveUser()%7B%0A%20%20%20%20%20%20%20const%20user%20=%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20name:this.body.name,%0A%20%20%20%20%20%20%20%20%20%20%20gender:%20this.body.gender%0A%20%20%20%20%20%20%20%7D%20;%0A%20%20%20%20%20%20%20//%20save%20user%20into%20mongodb%0A%20%20%20%20%20%20%20const%20service%20=%20new%20UserService();%0A%20%20%20%20%20%20%20service.saveUser(user);%0A%20%20%20%20%7D%0A%7D%0A%3C/code%3E%3C/pre%3E%0A%3Cp%3Ethis%20is%20a%20good%20way%20but%20consider%20user%20value%20with%2010%20properties%20which%20means%20you%20need%20to%20write%2010%20lines%20of%20code.%3C/p%3E%0A%3Cp%3ELet's%20write%20the%20above%20code%20using%20%3Ccode%3EExpectBody%3C/code%3E%3C/p%3E%0A%3Cpre%3E%3Ccode%3Eexport%20class%20UserController%7B%0A%0A%20%20%20%20@Route(%22/%22)%0A%20%20%20%20@Worker(%5B%22post%22%5D)%0A%20%20%20%20@ExpectBody(%7Bname:%22%22,%20gender:%20%22%22%7D)%0A%20%20%20%20saveUser()%7B%0A%20%20%20%20%20%20%20const%20user%20=%20%20this.body;%0A%20%20%20%20%20%20%20//%20save%20user%20into%20mongodb%0A%20%20%20%20%20%20%20const%20service%20=%20new%20UserService();%0A%20%20%20%20%20%20%20service.saveUser(user);%0A%20%20%20%20%7D%0A%7D%0A%3C/code%3E%3C/pre%3E`;
  title="Expect Body";
  keywords="body, secure body, validation, Shivneri, crystal";
  description="This page tells about decorator ExpectBody & how to use this.";
}
</script>
