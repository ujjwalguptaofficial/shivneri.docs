<template>
<Tutorial :pageDescription="description" :pageKeywords="keywords" :innerHtml="tutorialContent" :pageTitle="title"></Tutorial>
</template>
<script lang="ts">
import { Component, Vue } from "nuxt-property-decorator";
import Tutorial from "~/components/tutorial.vue";
@Component({
  components: {
    Tutorial
  }
})
export default class extends Vue {
  tutorialContent = `%3Cp%3EFor%20e2e%20test%20-%20we%20recommend%20to%20use%20Axios.%20But%20feel%20free%20to%20use%20your%20favourite%20http%20client%20library.%3C/p%3E%0A%3Cp%3ELet's%20see%20an%20example%20-%20Consider%20UserController%20implments%20Rest%20Api%20&amp;%20codes%20are%20-%20%3C/p%3E%0A%3Cpre%3E%3Ccode%3Eimport%20%7B%20Controller,%20textResult,%20DefaultWorker,%20jsonResult,%20Worker,%20Route,%20HTTP_STATUS_CODE,%20HTTP_METHOD,%20Guards,%20Singleton%20%7D%20from%20'Shivneri';%0Aimport%20%7B%20UserService%20%7D%20from%20'../services/user_service';%0Aimport%20%7B%20ModelUserGuard%20%7D%20from%20'../guards/model_user_guard';%0Aimport%20%7B%20User%20%7D%20from%20'../models/user';%0A%0Aexport%20class%20UserController%20extends%20Controller%20%7B%0A%0A%20%20%20%20service:%20UserService;%0A%20%20%20%20constructor(@Singleton(UserService)%20service:%20UserService)%20%7B%0A%20%20%20%20%20%20%20%20super();%0A%20%20%20%20%20%20%20%20this.service%20=%20service;%0A%20%20%20%20%7D%0A%0A%20%20%20%20@DefaultWorker()%0A%20%20%20%20async%20getUsers()%20%7B%0A%20%20%20%20%20%20%20%20return%20jsonResult(this.service.getUsers());%0A%20%20%20%20%7D%0A%0A%20%20%20%20@Worker(%5BHTTP_METHOD.Post%5D)%0A%20%20%20%20@Route(%22/%22)%0A%20%20%20%20@Guards(%5BModelUserGuard%5D)%0A%20%20%20%20async%20addUser()%20%7B%0A%20%20%20%20%20%20%20%20const%20user%20=%20this.data.user;%0A%20%20%20%20%20%20%20%20const%20newUser%20=%20this.service.addUser(user);%0A%20%20%20%20%20%20%20%20return%20jsonResult(newUser,%20HTTP_STATUS_CODE.Created);%0A%20%20%20%20%7D%0A%0A%20%20%20%20@Worker(%5BHTTP_METHOD.Put%5D)%0A%20%20%20%20@Route(%22/%22)%0A%20%20%20%20async%20updateUser()%20%7B%0A%20%20%20%20%20%20%20%20const%20user%20=%20new%20User().init(this.body);%0A%20%20%20%20%20%20%20%20const%20userUpdated%20=%20this.service.updateUser(user);%0A%20%20%20%20%20%20%20%20if%20(userUpdated%20===%20true)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20textResult(%22user%20updated%22);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20textResult(%22invalid%20user%22);%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%7D%0A%0A%20%20%20%20@Worker(%5BHTTP_METHOD.Get%5D)%0A%20%20%20%20@Route(%22/%7Bid%7D%22)%0A%20%20%20%20async%20getUser()%20%7B%0A%0A%20%20%20%20%20%20%20%20const%20userId%20=%20Number(this.param.id);%0A%20%20%20%20%20%20%20%20const%20user%20=%20new%20UserService().getUser(userId);%0A%20%20%20%20%20%20%20%20if%20(user%20==%20null)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20textResult(%22invalid%20user%20id%22,%20HTTP_STATUS_CODE.NotFound);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20jsonResult(user);%0A%0A%20%20%20%20%7D%0A%0A%7D%0A%3C/code%3E%3C/pre%3E%0A%3Ch2%20id=%22testcode%22%3ETest%20code%20-%3C/h2%3E%0A%3Cpre%3E%3Ccode%3Eimport%20axios%20from%20%22axios%22;%0Aimport%20%7B%20createApp%20%7D%20from%20%22../index%22;%0A%0Adescribe('/user',%20()%20=&gt;%20%7B%0A%0A%20%20%20%20let%20app;%0A%20%20%20%20let%20httpRequest;%0A%20%20%20%20beforeAll(async%20()%20=&gt;%20%7B%0A%20%20%20%20%20%20%20%20app%20=%20await%20createApp();%0A%20%20%20%20%20%20%20%20httpRequest%20=%20axios.create(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20baseURL:%20process.env.APP_URL%20+%20%22/user%22,%0A%20%20%20%20%20%20%20%20%20%20%20%20timeout:%201000%0A%20%20%20%20%20%20%20%20%7D);%0A%20%20%20%20%7D);%0A%0A%20%20%20%20it('/get%20all%20users',%20async%20()%20=&gt;%20%7B%0A%20%20%20%20%20%20%20%20const%20response%20=%20await%20httpRequest.get('/',%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20headers:%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20accept:%20'application/json'%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D);%0A%20%20%20%20%20%20%20%20expect(response.status).toEqual(200);%0A%20%20%20%20%20%20%20%20expect(response.headers%5B'content-type'%5D).toEqual('application/json');%0A%20%20%20%20%20%20%20%20expect(response.data).toEqual(%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20%22address%22:%20%22bhubaneswar%20india%22,%20%22emailId%22:%20%22ujjwal@mg.com%22,%20%22gender%22:%20%22male%22,%20%22id%22:%201,%20%22name%22:%20%22ujjwal%22,%20%22password%22:%20%22admin%22%20%7D%0A%20%20%20%20%20%20%20%20%5D);%0A%20%20%20%20%7D);%0A%0A%20%20%20%20it('/add%20user',%20async%20()%20=&gt;%20%7B%0A%20%20%20%20%20%20%20%20const%20user%20=%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22name%22:%20%22ujjwal%22,%0A%20%20%20%20%20%20%20%20%20%20%20%20%22emailId%22:%20%22ujjwal@m.com%22,%0A%20%20%20%20%20%20%20%20%20%20%20%20%22password%22:%20%2212345as%22,%0A%20%20%20%20%20%20%20%20%20%20%20%20%22gender%22:%20%22male%22,%0A%20%20%20%20%20%20%20%20%20%20%20%20%22address%22:%20%22sadfsgbhfgtbrg%22%0A%20%20%20%20%20%20%20%20%7D;%0A%20%20%20%20%20%20%20%20const%20response%20=%20await%20httpRequest.post('/',%20user,%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20headers:%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20accept:%20'application/json'%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D);%0A%20%20%20%20%20%20%20%20expect(response.status).toEqual(201);%0A%20%20%20%20%20%20%20%20expect(response.headers%5B'content-type'%5D).toEqual('application/json');%0A%0A%20%20%20%20%20%20%20%20expect(response.data).toEqual(%7B%20id:%202,%20...user%20%7D);%0A%20%20%20%20%7D);%0A%0A%20%20%20%20it('/update%20user',%20async%20()%20=&gt;%20%7B%0A%20%20%20%20%20%20%20%20const%20user%20=%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22name%22:%20%22ujjwal%20gupta%22,%0A%20%20%20%20%20%20%20%20%20%20%20%20%22emailId%22:%20%22ujjwal@m.com%22,%0A%20%20%20%20%20%20%20%20%20%20%20%20%22password%22:%20%2212345as%22,%0A%20%20%20%20%20%20%20%20%20%20%20%20%22gender%22:%20%22male%22,%0A%20%20%20%20%20%20%20%20%20%20%20%20%22address%22:%20%22sadfsgbhfgtbrg%22,%0A%20%20%20%20%20%20%20%20%20%20%20%20%22id%22:%202%0A%20%20%20%20%20%20%20%20%7D;%0A%20%20%20%20%20%20%20%20const%20response%20=%20await%20httpRequest.put('/',%20user,%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20headers:%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20accept:%20'*/*'%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D);%0A%20%20%20%20%20%20%20%20expect(response.status).toEqual(200);%0A%20%20%20%20%20%20%20%20expect(response.data).toEqual(%22user%20updated%22);%0A%20%20%20%20%7D);%0A%7D);%0A%3C/code%3E%3C/pre%3E%0A%3Cp%3EIn%20the%20above%20code%20-%20%3C/p%3E%0A%3Cul%3E%0A%3Cli%3E%3Cp%3EWe%20are%20initializing%20our%20app%20and%20creating%20an%20axios%20instance%20in%20beforeAll%20hook%20of%20jest.%20This%20will%20ensure%20that%20our%20app%20is%20initialized%20before%20any%20test%20case%20is%20executed.%3C/p%3E%3C/li%3E%0A%3Cli%3E%3Cp%3EIn%20test%20case%20%22get%20all%20users%22%20-%20we%20create%20a%20get%20request%20to%20user%20end%20point%20and%20then%20send%20the%20request,%20after%20response%20is%20received%20we%20compare%20it%20against%20expected%20output.%3C/p%3E%3C/li%3E%0A%3C/ul%3E`;
  title="e2e Test";
  keywords="test, unit, e2e, Shivneri, crystal";
  description="Setting up e2e test in Shivneri";
}
</script>
